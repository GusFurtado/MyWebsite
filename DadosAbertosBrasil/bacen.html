<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
    <meta name="generator" content="pdoc 0.9.2" />
    <title>DadosAbertosBrasil.bacen</title>
    <meta name="description" content="Módulo para consultas à informações variadas.
    Inclue dados de APIs do Banco Central do Brasil e outras informações úteis." />
    <link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/sanitize.min.css" integrity="sha256-PK9q560IAAa6WVRRh76LtCaI8pjTJ2z11v0miyNNjrs=" crossorigin>
    <link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/typography.min.css" integrity="sha256-7l/o7C8jubJiy74VsKTidCy1yBkRtiUGbVkYBylBqUg=" crossorigin>
    <link rel="stylesheet preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/github.min.css" crossorigin>
    <style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
    <style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
    <style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
    <script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js" integrity="sha256-Uv3H6lx7dJmRfRvH8TH6kJD1TSK1aFcwgx+mdg3epi8=" crossorigin></script>
    <script>window.addEventListener('DOMContentLoaded', () => hljs.initHighlighting())</script>
    <style>.homelink{display:block;font-size:2em;font-weight:bold;color:#555;padding-bottom:.5em;border-bottom:1px solid silver}.homelink:hover{color:inherit}.homelink img{max-width:100%;max-height:5em;margin:auto;margin-bottom:.3em}</style>
</head>

<body>
<main>
<article id="content">
<header>
<h1 class="title">Módulo <code>DadosAbertosBrasil.<span style='color:#009B3A'>bacen</span></code></h1>
</header>
<section id="section-intro">
<p>Módulo de captura de dados das APIs do Banco Central do Brasil.</p>
<h2 id="documentacao-original">Documentação Original</h2>
<pre>SGS - Sistema Gerenciador de Séries Temporais
    <a href="https://www3.bcb.gov.br/sgspub/">https://www3.bcb.gov.br/sgspub/</a>
Cotação do Câmbio
    <a href="https://olinda.bcb.gov.br/olinda/servico/PTAX/versao/v1/swagger-ui3">https://olinda.bcb.gov.br/olinda/servico/PTAX/versao/v1/swagger-ui3</a></pre>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">&#39;&#39;&#39;
Módulo de captura de dados das APIs do Banco Central do Brasil.

Documentação Original
---------------------
SGS - Sistema Gerenciador de Séries Temporais
    https://www3.bcb.gov.br/sgspub/
Cotação do Câmbio
    https://olinda.bcb.gov.br/olinda/servico/PTAX/versao/v1/swagger-ui3
&#39;&#39;&#39;



from datetime import datetime

import pandas as _pd

from ._utils import parse
from ._utils.get_data import get_data



def _df(path:str, params:dict=None) -&gt; _pd.DataFrame:
    data = get_data(
        endpoint = &#39;https://olinda.bcb.gov.br/olinda/servico/PTAX/versao/v1/odata/&#39;,
        path = path,
        params = params
    )
    return _pd.DataFrame(data[&#39;value&#39;])



def moedas():
    &#39;&#39;&#39;
    Obtém os nomes e símbolos das principais moedas internacionais.

    Retorna
    -------
    pandas.core.frame.DataFrame
        DataFrame contendo os nomes e símbolos das principais moedas
        internacionais.

    Exemplos
    --------
    &gt;&gt;&gt; bacen.moedas()
    ...   simbolo                      nome tipo
    ... 0     AUD         Dólar australiano    B
    ... 1     CAD           Dólar canadense    A
    ... 2     CHF              Franco suíço    A
    ... 3     DKK        Coroa dinamarquesa    A
    ... 4     EUR                      Euro    B
    ... 5     GBP           Libra Esterlina    B
    ... 6     JPY                      Iene    A
    ... 7     NOK          Coroa norueguesa    A
    ... 8     SEK               Coroa sueca    A
    ... 9     USD  Dólar dos Estados Unidos    A

    Notas
    -----
    Moedas do tipo &#39;A&#39;:
        - Para calcular o valor equivalente em US$ (dólar americano), divida o
            montante na moeda consultada pela respectiva paridade.
        - Para obter o valor em R$ (reais), multiplique o montante na moeda
            consultada pela respectiva taxa.
    Moedas do tipo &#39;B&#39;:
        - Para calcular o valor equivalente em US$ (dólar americano),
            multiplique o montante na moeda consultada pela respectiva paridade.
        - Para obter o valor em R$ (reais), multiplique o montante na moeda
            consultada pela respectiva taxa. 

    Ver também
    ----------
    DadosAbertosBrasil.bacen.cambio
        Utilize a função `bacen.moedas` para identificar os argumentos da
        função `bacen.cambio`.

    --------------------------------------------------------------------------
    &#39;&#39;&#39;

    df = _df(&#39;Moedas&#39;)
    df.columns = [&#39;simbolo&#39;, &#39;nome&#39;, &#39;tipo&#39;]
    return df



def cambio(
        moedas = &#39;USD&#39;,
        inicio: str = &#39;2000-01-01&#39;,
        fim: str = None,
        cotacao: str = &#39;compra&#39;,
        boletim: str = &#39;fechamento&#39;,
        index: bool = False
    ) -&gt; _pd.DataFrame:
    &#39;&#39;&#39;
    Taxa de câmbio das principais moedas internacionais.
    É possível escolher várias moedas inserindo uma lista no campo `moeda`.
    Defina o período da consulta pelos campos `inicio` e `fim`.

    Parâmetros
    ----------
    moedas : list ou str (default=&#39;USD&#39;)
        Sigla da moeda ou lista de siglas de moedas que serão pesquisadas no
        formato &#39;MMM&#39; (três letras). Utilize a função `bacen.moedas` para
        obter a lista de moedas válidas.
    inicio : str (default=&#39;2000-01-01&#39;)
        String no formato de data &#39;AAAA-MM-DD&#39; que representa o primeiro dia
        da pesquisa.
    fim : str (default=None)
        String no formato de data &#39;AAAA-MM-DD&#39; que representa o último dia da
        pesquisa. Caso este campo seja None, será considerada a data de hoje.
    cotacao : str (default=&#39;compra&#39;)
        Tipo de cotação. Pode ser um dos seguintes valores:
            - &#39;compra&#39;;
            - &#39;venda&#39;.
    boletim : str (default=&#39;fechamento&#39;)
        Tipo de boletim. Pode ser um dos seguintes valores:
            - &#39;abertura&#39;;
            - &#39;intermediário&#39;;
            - &#39;fechamento&#39;.
    index : bool (default=False)
        Define se a coluna &#39;Data&#39; será o index do DataFrame.

    Retorna
    -------
    pandas.core.frame.DataFrame
        DataFrame contendo as cotações diárias das moedas selecionadas.

    Exemplos
    --------
    Retornar uma moeda usando argumentos padrões:
        &gt;&gt;&gt; bacen.cambio(moedas=&#39;EUR&#39;)
        ...            Data      EUR
        ... 0    2000-01-03  1.84601
        ... 1    2000-01-04  1.88695
        ... 2    2000-01-05  1.91121
        ... 3    2000-01-06  1.90357
        ... 4    2000-01-07  1.87790
        ... ...         ...      ...

    Retornar várias moedas, alterando argumentos:
        &gt;&gt;&gt; bacen.cambio(
        &gt;&gt;&gt;     moedas = [&#39;USD&#39;, &#39;CAD&#39;],
        &gt;&gt;&gt;     inicio = &#39;2021-01-01&#39;,
        &gt;&gt;&gt;     fim = &#39;2021-01-10&#39;,
        &gt;&gt;&gt;     cotacao = &#39;venda&#39;,
        &gt;&gt;&gt;     boletim = &#39;abertura&#39;,
        &gt;&gt;&gt;     index = True
        &gt;&gt;&gt; )
        ...                USD     CAD
        ... Data                      
        ... 2021-01-04  5.1402  4.0500
        ... 2021-01-05  5.3405  4.1890
        ... 2021-01-06  5.3013  4.1798
        ... 2021-01-07  5.3174  4.1833
        ... 2021-01-08  5.3612  4.2237

    Ver também
    ----------
    DadosAbertosBrasil.bacen.moedas
        Utilize a função `bacen.moedas` para identificar as moedas que serão
        usadas no argumento da função `bacen.cambio`.

    --------------------------------------------------------------------------
    &#39;&#39;&#39;

    inicio = parse.data(inicio, &#39;bacen&#39;)
    if fim == None:
        fim = datetime.today().strftime(&#39;%m-%d-%Y&#39;)
    else:
        fim = parse.data(fim, &#39;bacen&#39;)
    
    moedas = parse.moeda(moedas)
    
    try:    
        cotacao_moedas = []
        for moeda in moedas:
            cotacao_moeda = _df(
                &#34;CotacaoMoedaPeriodo(&#34; \
                + &#34;moeda=@moeda,&#34; \
                + &#34;dataInicial=@dataInicial,&#34; \
                + &#34;dataFinalCotacao=@dataFinalCotacao)&#34; \
                + f&#34;?@moeda=&#39;{moeda}&#39;&#34; \
                + f&#34;&amp;@dataInicial=&#39;{inicio}&#39;&#34; \
                + f&#34;&amp;@dataFinalCotacao=&#39;{fim}&#39;&#34; \
                + f&#34;&amp;$filter=contains(tipoBoletim%2C&#39;{boletim.title()}&#39;)&#34; \
                + f&#34;&amp;$select=cotacao{cotacao.title()},dataHoraCotacao&#34;
            )
            
            cotacao_moeda.dataHoraCotacao = cotacao_moeda.dataHoraCotacao \
                .apply(lambda x: datetime.strptime(x[:10], &#39;%Y-%m-%d&#39;))

            cotacao_moedas.append(
                cotacao_moeda.rename(columns = {
                    f&#39;cotacao{cotacao.title()}&#39;: moeda,
                    &#39;dataHoraCotacao&#39;: &#39;Data&#39;
                }).groupby(&#39;Data&#39;).last())

        cotacoes = _pd.concat(cotacao_moedas, axis=1).reset_index()

    except:
        raise TypeError(&#34;O campo &#39;moedas&#39; deve ser o código de três letras maiúsculas da moeda ou um objeto iterável de códigos.&#34;)
    
    cotacoes.Data = _pd.to_datetime(cotacoes.Data, format=&#39;%Y-%m-%d %H:%M:%S&#39;)
    if index:
        cotacoes.set_index(&#39;Data&#39;, inplace=True)
    
    return cotacoes



def serie(
        serie: int,
        ultimos: int = None,
        inicio: str = None,
        fim: str = None,
        index: bool = False
    ) -&gt; _pd.DataFrame:
    &#39;&#39;&#39;
    Série do Sistema Gerenciador de Série Temporais (SGS) do Banco Central.

    Parâmetros
    ----------
    cod : int
        Código da série temporal.
        Utilize o seguinte link para obter o número da série desejada:
        https://www3.bcb.gov.br/sgspub/
    ultimos : int (default=None)
        Retorna os últimos N valores da série numérica.
    inicio : str ou datetime (default=&#39;2000-01-01&#39;)
        Valor datetime ou string no formato de data &#39;AAAA-MM-DD&#39; que
        representa o primeiro dia da pesquisa.
    fim : str ou datetime (default=None)
        Valor datetime ou string no formato de data &#39;AAAA-MM-DD&#39; que
        representa o último dia da pesquisa. Caso este campo seja None, será
        considerada a data de hoje.
    index : bool (default=False)
        Define se a coluna &#39;Data&#39; será o index do DataFrame.

    Retorna
    -------
    pandas.core.frame.DataFrame
        DataFrame contendo os valores da série temporal pesquisada.

    Exemplos
    --------
    Capturar a taxa SELIC desde 2010 até 2021:
        &gt;&gt;&gt; bacen.serie(cod=432, inicio=&#39;2010-01-01&#39;, fim=&#39;2021-01-01&#39;)
        ...            data valor
        ... 0    2010-01-01  8.75
        ... 1    2010-01-02  8.75
        ... 2    2010-01-03  8.75
        ... 3    2010-01-04  8.75
        ... 4    2010-01-05  8.75
        ... ...         ...   ...

    Capturar os últimos 5 valores da meta de inflação:
        &gt;&gt;&gt; bacen.serie(cod=13521, ultimos=5)
        ...         data valor
        ... 0 2019-01-01  4.25
        ... 1 2020-01-01  4.00
        ... 2 2021-01-01  3.75
        ... 3 2022-01-01  3.50
        ... 4 2023-01-01  3.25

    Capturar toda a série de reservas internacionais (em milhões de dólares)
    usando a data como index do DataFrame:
        &gt;&gt;&gt; bacen.serie(cod=3546, index=True)
        ...              valor
        ... data              
        ... 1970-12-01    1187
        ... 1971-01-01    1229
        ... 1971-02-01    1280
        ... 1971-03-01    1316
        ... 1971-04-01    1379
        ... ...            ...

    Notas
    -----
    Os argumentos `inicio` e `fim` devem ser usados em conjunto para
    funcionar.

    Ver também
    ----------
    DadosAbertosBrasil.favoritos
        O módulo `favoritos` apresenta as principais séries temporáis do Banco
        Central do Brasil.

    --------------------------------------------------------------------------
    &#39;&#39;&#39;

    path = f&#39;dados/serie/bcdata.sgs.{serie}/dados&#39;
    if ultimos is not None:
        path += f&#39;/ultimos/{ultimos}&#39;

    params = []
    if inicio is not None:
        params.append(f&#34;dataInicial={parse.data(inicio, modulo=&#39;sgs&#39;)}&#34;)
    if fim is not None:
        params.append(f&#34;dataFinal={parse.data(fim, modulo=&#39;sgs&#39;)}&#34;)

    if len(params) &gt; 0:
        path += f&#39;?{&#34;&amp;&#34;.join(params)}&#39;

    data = get_data(
        endpoint = &#39;https://api.bcb.gov.br/&#39;,
        path = path
    )

    df = _pd.DataFrame(data)

    df.data = _pd.to_datetime(df.data, format=&#39;%d/%m/%Y&#39;)
    if &#39;datafim&#39; in df.columns:
        df.datafim = _pd.to_datetime(df.datafim, format=&#39;%d/%m/%Y&#39;)

    if index:
        df.set_index(&#39;data&#39;, inplace=True)

    return df</code></pre>
</details>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-functions">Funções</h2>
<dl>
<dt id="DadosAbertosBrasil.bacen.cambio"><code class="name flex">
<span>def <span class="ident">cambio</span></span>(<span>moedas='USD', inicio: str = '2000-01-01', fim: str = None, cotacao: str = 'compra', boletim: str = 'fechamento', index: bool = False) ‑> pandas.core.frame.DataFrame</span>
</code></dt>
<dd>
<div class="desc"><p>Taxa de câmbio das principais moedas internacionais.
É possível escolher várias moedas inserindo uma lista no campo <code>moeda</code>.
Defina o período da consulta pelos campos <code>inicio</code> e <code>fim</code>.</p>
<h2 id="parametros">Parâmetros</h2>
<pre>moedas : list ou str (default='USD')
    Sigla da moeda ou lista de siglas de moedas que serão pesquisadas no
    formato 'MMM' (três letras). Utilize a função `bacen.moedas` para
    obter a lista de moedas válidas.
inicio : str (default='2000-01-01')
    String no formato de data 'AAAA-MM-DD' que representa o primeiro dia
    da pesquisa.
fim : str (default=None)
    String no formato de data 'AAAA-MM-DD' que representa o último dia da
    pesquisa. Caso este campo seja None, será considerada a data de hoje.
    cotacao : str (default='compra')
Tipo de cotação. Pode ser um dos seguintes valores:
    - 'compra';
    - 'venda'.
boletim : str (default='fechamento')
    Tipo de boletim. Pode ser um dos seguintes valores:
    - 'abertura';
    - 'intermediário';
    - 'fechamento'.
index : bool (default=False)
    Define se a coluna 'Data' será o index do DataFrame.</pre>
<h2 id="retorna">Retorna</h2>
<pre>pandas.core.frame.DataFrame
    DataFrame contendo as cotações diárias das moedas selecionadas.</pre>
<h2 id="exemplos">Exemplos</h2>
<pre><code class="language-python-repl"># Retornar uma moeda usando argumentos padrões:
&gt;&gt;&gt; bacen.cambio(moedas='EUR')
...         Data     EUR
... 0 2000-01-03 1.84601
... 1 2000-01-04 1.88695
... 2 2000-01-05 1.91121
... 3 2000-01-06 1.90357
... 4 2000-01-07 1.87790
... &hellip;          &hellip;       &hellip;

# Retornar várias moedas, alterando argumentos:
&gt;&gt;&gt; bacen.cambio(
&gt;&gt;&gt;     moedas = ['USD', 'CAD'],
&gt;&gt;&gt;     inicio = '2021-01-01',
&gt;&gt;&gt;     fim = '2021-01-10',
&gt;&gt;&gt;     cotacao = 'venda',
&gt;&gt;&gt;     boletim = 'abertura',
&gt;&gt;&gt;     index = True
&gt;&gt;&gt; )
...               USD    CAD
... Data
... 2021-01-04 5.1402 4.0500
... 2021-01-05 5.3405 4.1890
... 2021-01-06 5.3013 4.1798
... 2021-01-07 5.3174 4.1833
... 2021-01-08 5.3612 4.2237</code></pre>
<h2 id="ver-tambem">Ver Também</h2>
<pre>DadosAbertosBrasil.bacen.moedas
    Utilize a função `bacen.moedas` para identificar as moedas que serão
    usadas no argumento da função `bacen.cambio`.</pre>
<hr></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def cambio(
        moedas = &#39;USD&#39;,
        inicio: str = &#39;2000-01-01&#39;,
        fim: str = None,
        cotacao: str = &#39;compra&#39;,
        boletim: str = &#39;fechamento&#39;,
        index: bool = False
    ) -&gt; _pd.DataFrame:
    &#39;&#39;&#39;
    Taxa de câmbio das principais moedas internacionais.
    É possível escolher várias moedas inserindo uma lista no campo `moeda`.
    Defina o período da consulta pelos campos `inicio` e `fim`.

    Parâmetros
    ----------
    moedas : list ou str (default=&#39;USD&#39;)
        Sigla da moeda ou lista de siglas de moedas que serão pesquisadas no
        formato &#39;MMM&#39; (três letras). Utilize a função `bacen.moedas` para
        obter a lista de moedas válidas.
    inicio : str (default=&#39;2000-01-01&#39;)
        String no formato de data &#39;AAAA-MM-DD&#39; que representa o primeiro dia
        da pesquisa.
    fim : str (default=None)
        String no formato de data &#39;AAAA-MM-DD&#39; que representa o último dia da
        pesquisa. Caso este campo seja None, será considerada a data de hoje.
    cotacao : str (default=&#39;compra&#39;)
        Tipo de cotação. Pode ser um dos seguintes valores:
            - &#39;compra&#39;;
            - &#39;venda&#39;.
    boletim : str (default=&#39;fechamento&#39;)
        Tipo de boletim. Pode ser um dos seguintes valores:
            - &#39;abertura&#39;;
            - &#39;intermediário&#39;;
            - &#39;fechamento&#39;.
    index : bool (default=False)
        Define se a coluna &#39;Data&#39; será o index do DataFrame.

    Retorna
    -------
    pandas.core.frame.DataFrame
        DataFrame contendo as cotações diárias das moedas selecionadas.

    Exemplos
    --------
    Retornar uma moeda usando argumentos padrões:
        &gt;&gt;&gt; bacen.cambio(moedas=&#39;EUR&#39;)
        ...            Data      EUR
        ... 0    2000-01-03  1.84601
        ... 1    2000-01-04  1.88695
        ... 2    2000-01-05  1.91121
        ... 3    2000-01-06  1.90357
        ... 4    2000-01-07  1.87790
        ... ...         ...      ...

    Retornar várias moedas, alterando argumentos:
        &gt;&gt;&gt; bacen.cambio(
        &gt;&gt;&gt;     moedas = [&#39;USD&#39;, &#39;CAD&#39;],
        &gt;&gt;&gt;     inicio = &#39;2021-01-01&#39;,
        &gt;&gt;&gt;     fim = &#39;2021-01-10&#39;,
        &gt;&gt;&gt;     cotacao = &#39;venda&#39;,
        &gt;&gt;&gt;     boletim = &#39;abertura&#39;,
        &gt;&gt;&gt;     index = True
        &gt;&gt;&gt; )
        ...                USD     CAD
        ... Data                      
        ... 2021-01-04  5.1402  4.0500
        ... 2021-01-05  5.3405  4.1890
        ... 2021-01-06  5.3013  4.1798
        ... 2021-01-07  5.3174  4.1833
        ... 2021-01-08  5.3612  4.2237

    Ver também
    ----------
    DadosAbertosBrasil.bacen.moedas
        Utilize a função `bacen.moedas` para identificar as moedas que serão
        usadas no argumento da função `bacen.cambio`.

    --------------------------------------------------------------------------
    &#39;&#39;&#39;

    inicio = parse.data(inicio, &#39;bacen&#39;)
    if fim == None:
        fim = datetime.today().strftime(&#39;%m-%d-%Y&#39;)
    else:
        fim = parse.data(fim, &#39;bacen&#39;)
    
    moedas = parse.moeda(moedas)
    
    try:    
        cotacao_moedas = []
        for moeda in moedas:
            cotacao_moeda = _df(
                &#34;CotacaoMoedaPeriodo(&#34; \
                + &#34;moeda=@moeda,&#34; \
                + &#34;dataInicial=@dataInicial,&#34; \
                + &#34;dataFinalCotacao=@dataFinalCotacao)&#34; \
                + f&#34;?@moeda=&#39;{moeda}&#39;&#34; \
                + f&#34;&amp;@dataInicial=&#39;{inicio}&#39;&#34; \
                + f&#34;&amp;@dataFinalCotacao=&#39;{fim}&#39;&#34; \
                + f&#34;&amp;$filter=contains(tipoBoletim%2C&#39;{boletim.title()}&#39;)&#34; \
                + f&#34;&amp;$select=cotacao{cotacao.title()},dataHoraCotacao&#34;
            )
            
            cotacao_moeda.dataHoraCotacao = cotacao_moeda.dataHoraCotacao \
                .apply(lambda x: datetime.strptime(x[:10], &#39;%Y-%m-%d&#39;))

            cotacao_moedas.append(
                cotacao_moeda.rename(columns = {
                    f&#39;cotacao{cotacao.title()}&#39;: moeda,
                    &#39;dataHoraCotacao&#39;: &#39;Data&#39;
                }).groupby(&#39;Data&#39;).last())

        cotacoes = _pd.concat(cotacao_moedas, axis=1).reset_index()

    except:
        raise TypeError(&#34;O campo &#39;moedas&#39; deve ser o código de três letras maiúsculas da moeda ou um objeto iterável de códigos.&#34;)
    
    cotacoes.Data = _pd.to_datetime(cotacoes.Data, format=&#39;%Y-%m-%d %H:%M:%S&#39;)
    if index:
        cotacoes.set_index(&#39;Data&#39;, inplace=True)
    
    return cotacoes</code></pre>
</details>
</dd>
<dt id="DadosAbertosBrasil.bacen.moedas"><code class="name flex">
<span>def <span class="ident">moedas</span></span>(<span>)</span>
</code></dt>
<dd>
<div class="desc"><p>Obtém os nomes e símbolos das principais moedas internacionais.</p>
<h2 id="retorna">Retorna</h2>
<pre>pandas.core.frame.DataFrame
    DataFrame contendo os nomes e símbolos das principais moedas
    internacionais.</pre>
<h2 id="exemplos">Exemplos</h2>
<pre><code class="language-python-repl">&gt;&gt;&gt; bacen.moedas()
...   simbolo                      nome tipo
... 0     AUD         Dólar australiano    B
... 1     CAD           Dólar canadense    A
... 2     CHF              Franco suíço    A
... 3     DKK        Coroa dinamarquesa    A
... 4     EUR                      Euro    B
... 5     GBP           Libra Esterlina    B
... 6     JPY                      Iene    A
... 7     NOK          Coroa norueguesa    A
... 8     SEK               Coroa sueca    A
... 9     USD  Dólar dos Estados Unidos    A
</code></pre>
<h2 id="notas">Notas</h2>
<pre>Moedas do tipo 'A':
    - Para calcular o valor equivalente em US$ (dólar americano), divida o
    montante na moeda consultada pela respectiva paridade.
    - Para obter o valor em R$ (reais), multiplique o montante na moeda
    consultada pela respectiva taxa.
Moedas do tipo 'B':
    - Para calcular o valor equivalente em US$ (dólar americano),
    multiplique o montante na moeda consultada pela respectiva paridade.
    - Para obter o valor em R$ (reais), multiplique o montante na moeda
    consultada pela respectiva taxa. </pre>
<h2 id="ver-tambem">Ver Também</h2>
<pre>DadosAbertosBrasil.bacen.cambio
    Utilize a função `bacen.moedas` para identificar os argumentos da
    função `bacen.cambio`.</pre>
<hr></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def moedas():
    &#39;&#39;&#39;
    Obtém os nomes e símbolos das principais moedas internacionais.

    Retorna
    -------
    pandas.core.frame.DataFrame
        DataFrame contendo os nomes e símbolos das principais moedas
        internacionais.

    Exemplos
    --------
    &gt;&gt;&gt; bacen.moedas()
    ...   simbolo                      nome tipo
    ... 0     AUD         Dólar australiano    B
    ... 1     CAD           Dólar canadense    A
    ... 2     CHF              Franco suíço    A
    ... 3     DKK        Coroa dinamarquesa    A
    ... 4     EUR                      Euro    B
    ... 5     GBP           Libra Esterlina    B
    ... 6     JPY                      Iene    A
    ... 7     NOK          Coroa norueguesa    A
    ... 8     SEK               Coroa sueca    A
    ... 9     USD  Dólar dos Estados Unidos    A

    Notas
    -----
    Moedas do tipo &#39;A&#39;:
        - Para calcular o valor equivalente em US$ (dólar americano), divida o
            montante na moeda consultada pela respectiva paridade.
        - Para obter o valor em R$ (reais), multiplique o montante na moeda
            consultada pela respectiva taxa.
    Moedas do tipo &#39;B&#39;:
        - Para calcular o valor equivalente em US$ (dólar americano),
            multiplique o montante na moeda consultada pela respectiva paridade.
        - Para obter o valor em R$ (reais), multiplique o montante na moeda
            consultada pela respectiva taxa. 

    Ver também
    ----------
    DadosAbertosBrasil.bacen.cambio
        Utilize a função `bacen.moedas` para identificar os argumentos da
        função `bacen.cambio`.

    --------------------------------------------------------------------------
    &#39;&#39;&#39;

    df = _df(&#39;Moedas&#39;)
    df.columns = [&#39;simbolo&#39;, &#39;nome&#39;, &#39;tipo&#39;]
    return df</code></pre>
</details>
</dd>
<dt id="DadosAbertosBrasil.bacen.serie"><code class="name flex">
<span>def <span class="ident">serie</span></span>(<span>serie: int, ultimos: int = None, inicio: str = None, fim: str = None, index: bool = False) ‑> pandas.core.frame.DataFrame</span>
</code></dt>
<dd>
<div class="desc"><p>Série do Sistema Gerenciador de Série Temporais (SGS) do Banco Central.</p>
<h2 id="parametros">Parâmetros</h2>
<pre>cod : int
    Código da série temporal.
    Utilize o seguinte link para obter o número da série desejada:
    <a href="https://www3.bcb.gov.br/sgspub/">https://www3.bcb.gov.br/sgspub/</a>
ultimos : int (default=None)
    Retorna os últimos N valores da série numérica.
inicio : str ou datetime (default='2000-01-01')
    Valor datetime ou string no formato de data 'AAAA-MM-DD' que
    representa o primeiro dia da pesquisa.
fim : str ou datetime (default=None)
    Valor datetime ou string no formato de data 'AAAA-MM-DD' que
    representa o último dia da pesquisa. Caso este campo seja None, será
    considerada a data de hoje.
index : bool (default=False)
    Define se a coluna 'Data' será o index do DataFrame.</pre>
<h2 id="retorna">Retorna</h2>
<pre>pandas.core.frame.DataFrame
    DataFrame contendo os valores da série temporal pesquisada.</pre>
<h2 id="exemplos">Exemplos</h2>
<pre><code class="language-python-repl"># Capturar a taxa SELIC desde 2010 até 2021:
&gt;&gt;&gt; bacen.serie(cod=432, inicio='2010-01-01', fim='2021-01-01')
...        data  valor
... 0 2010-01-01  8.75
... 1 2010-01-02  8.75
... 2 2010-01-03  8.75
... 3 2010-01-04  8.75
... 4 2010-01-05  8.75
... &hellip;          &hellip;     &hellip;

# Capturar os últimos 5 valores da meta de inflação:
&gt;&gt;&gt; bacen.serie(cod=13521, ultimos=5)
...         data valor
... 0 2019-01-01  4.25
... 1 2020-01-01  4.00
... 2 2021-01-01  3.75
... 3 2022-01-01  3.50
... 4 2023-01-01  3.25

# Capturar toda a série de reservas internacionais (em milhões de dólares)
usando a data como index do DataFrame:
&gt;&gt;&gt; bacen.serie(cod=3546, index=True)
...            valor
... data
... 1970-12-01  1187
... 1971-01-01  1229
... 1971-02-01  1280
... 1971-03-01  1316
... 1971-04-01  1379
... &hellip;           &hellip;</code></pre>
<h2 id="notas">Notas</h2>
<pre>Os argumentos `inicio` e `fim` devem ser usados em conjunto para funcionar.</pre>
<h2 id="ver-tambem">Ver Também</h2>
<pre>DadosAbertosBrasil.favoritos
    O módulo `favoritos` apresenta as principais séries temporáis do Banco
    Central do Brasil.</pre>
<hr></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def serie(
        serie: int,
        ultimos: int = None,
        inicio: str = None,
        fim: str = None,
        index: bool = False
    ) -&gt; _pd.DataFrame:
    &#39;&#39;&#39;
    Série do Sistema Gerenciador de Série Temporais (SGS) do Banco Central.

    Parâmetros
    ----------
    cod : int
        Código da série temporal.
        Utilize o seguinte link para obter o número da série desejada:
        https://www3.bcb.gov.br/sgspub/
    ultimos : int (default=None)
        Retorna os últimos N valores da série numérica.
    inicio : str ou datetime (default=&#39;2000-01-01&#39;)
        Valor datetime ou string no formato de data &#39;AAAA-MM-DD&#39; que
        representa o primeiro dia da pesquisa.
    fim : str ou datetime (default=None)
        Valor datetime ou string no formato de data &#39;AAAA-MM-DD&#39; que
        representa o último dia da pesquisa. Caso este campo seja None, será
        considerada a data de hoje.
    index : bool (default=False)
        Define se a coluna &#39;Data&#39; será o index do DataFrame.

    Retorna
    -------
    pandas.core.frame.DataFrame
        DataFrame contendo os valores da série temporal pesquisada.

    Exemplos
    --------
    Capturar a taxa SELIC desde 2010 até 2021:
        &gt;&gt;&gt; bacen.serie(cod=432, inicio=&#39;2010-01-01&#39;, fim=&#39;2021-01-01&#39;)
        ...            data valor
        ... 0    2010-01-01  8.75
        ... 1    2010-01-02  8.75
        ... 2    2010-01-03  8.75
        ... 3    2010-01-04  8.75
        ... 4    2010-01-05  8.75
        ... ...         ...   ...

    Capturar os últimos 5 valores da meta de inflação:
        &gt;&gt;&gt; bacen.serie(cod=13521, ultimos=5)
        ...         data valor
        ... 0 2019-01-01  4.25
        ... 1 2020-01-01  4.00
        ... 2 2021-01-01  3.75
        ... 3 2022-01-01  3.50
        ... 4 2023-01-01  3.25

    Capturar toda a série de reservas internacionais (em milhões de dólares)
    usando a data como index do DataFrame:
        &gt;&gt;&gt; bacen.serie(cod=3546, index=True)
        ...              valor
        ... data              
        ... 1970-12-01    1187
        ... 1971-01-01    1229
        ... 1971-02-01    1280
        ... 1971-03-01    1316
        ... 1971-04-01    1379
        ... ...            ...

    Notas
    -----
    Os argumentos `inicio` e `fim` devem ser usados em conjunto para
    funcionar.

    Ver também
    ----------
    DadosAbertosBrasil.favoritos
        O módulo `favoritos` apresenta as principais séries temporáis do Banco
        Central do Brasil.

    --------------------------------------------------------------------------
    &#39;&#39;&#39;

    path = f&#39;dados/serie/bcdata.sgs.{serie}/dados&#39;
    if ultimos is not None:
        path += f&#39;/ultimos/{ultimos}&#39;

    params = []
    if inicio is not None:
        params.append(f&#34;dataInicial={parse.data(inicio, modulo=&#39;sgs&#39;)}&#34;)
    if fim is not None:
        params.append(f&#34;dataFinal={parse.data(fim, modulo=&#39;sgs&#39;)}&#34;)

    if len(params) &gt; 0:
        path += f&#39;?{&#34;&amp;&#34;.join(params)}&#39;

    data = get_data(
        endpoint = &#39;https://api.bcb.gov.br/&#39;,
        path = path
    )

    df = _pd.DataFrame(data)

    df.data = _pd.to_datetime(df.data, format=&#39;%d/%m/%Y&#39;)
    if &#39;datafim&#39; in df.columns:
        df.datafim = _pd.to_datetime(df.datafim, format=&#39;%d/%m/%Y&#39;)

    if index:
        df.set_index(&#39;data&#39;, inplace=True)

    return df</code></pre>
</details>
</dd>
</dl>
</section>
<section>
</section>
</article>
<nav id="sidebar">
<header>
    <a class="homelink" rel="home" title="DadosAbertosBrasil" href="https://gustavofurtado.com/dab.html">
    <img src="https://raw.githubusercontent.com/GusFurtado/DadosAbertosBrasil/master/assets/logo.png" alt="DadosAbertosBrasil">
    </a>
</header>
<h1>Sumário</h1>
<div class="toc">
<ul>
<li><a href="#documentacao-original">Documentação Original</a></li>
</ul>
</div>
<ul id="index">
<li><h3>Super-módulo</h3>
<ul>
<li><code><a title="DadosAbertosBrasil" href="index.html">DadosAbertosBrasil</a></code></li>
</ul>
</li>
<li><h3><a href="#header-functions">Funções</a></h3>
<ul class="">
<li><code><a title="DadosAbertosBrasil.bacen.cambio" href="#DadosAbertosBrasil.bacen.cambio">cambio</a></code></li>
<li><code><a title="DadosAbertosBrasil.bacen.moedas" href="#DadosAbertosBrasil.bacen.moedas">moedas</a></code></li>
<li><code><a title="DadosAbertosBrasil.bacen.serie" href="#DadosAbertosBrasil.bacen.serie">serie</a></code></li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc"><cite>pdoc</cite> 0.9.2</a>.</p>
</footer>
</body>
</html>